(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,a){e.exports=a(348)},163:function(e,t,a){},165:function(e,t,a){},348:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),l=a.n(o),c=(a(163),a(16)),i=a(17),s=a(19),u=a(18),d=a(20),m=(a(165),a(167),a(14)),h=a(15),p=a.n(h),f=a(157),g=a.n(f),b=a(33),E=a.n(b),v=a(28),y=a.n(v),O=a(23),C=a.n(O),w=a(29),k=a.n(w),S=a(137),j=a.n(S),P=a(136),N=a.n(P),R=a(135),x=a.n(R),B=a(68),D=a.n(B),I=a(138),A=a.n(I),U=a(133),W=a.n(U),L=(a(173),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!0,anchorEl:null},a.handleChange=function(e,t){a.setState({auth:t})},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onOpenAbout,n=this.state,o=n.auth,l=n.anchorEl,c=Boolean(l);return r.a.createElement("div",null,r.a.createElement(E.a,{position:"static",color:"primary"},r.a.createElement(y.a,null,r.a.createElement("img",{src:"/images/logo.png",className:"App-logo",alt:"logo"}),r.a.createElement("span",{className:t.flex}),o&&r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(W.a,{style:{textTransform:"capitalize"},type:"stargazers",namespace:"fonoster",repo:"routr"})),r.a.createElement(C.a,{color:"inherit",href:"https://github.com/fonoster/routr/issues"},r.a.createElement(x.a,null)),r.a.createElement(C.a,{color:"inherit",href:"https://routr.io"},r.a.createElement(N.a,null)),r.a.createElement(C.a,{"aria-owns":c?"menu-appbar":null,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},r.a.createElement(j.a,null)),r.a.createElement(A.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:this.handleClose},r.a.createElement(D.a,{disabled:!0,onClick:this.handleClose},"Settings"),r.a.createElement(D.a,{onClick:a},"About"))))))}}]),t}(r.a.Component)),T=Object(m.withStyles)({root:{flexGrow:1},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:20},githubButton:{bordeR:0,color:"red"}})(L),z=a(146),J=a.n(z),V=a(30),M=a.n(V),G=a(34),q=a.n(G),H=a(35),_=a.n(H),F=a(139),$=a.n(F),Q=a(148),X=a.n(Q),K=a(142),Z=a.n(K),Y=a(140),ee=a.n(Y),te=a(143),ae=a.n(te),ne=a(141),re=a.n(ne),oe=a(144),le=a.n(oe),ce=a(145),ie=a.n(ce),se=a(147),ue=a.n(se);var de=Object(m.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}})(function(e){var t=e.classes,a=e.handleChangeSection;return r.a.createElement("div",{className:t.root},r.a.createElement(M.a,{button:!0,onClick:function(e){return a(e,"domains")}},r.a.createElement(q.a,null,r.a.createElement($.a,null)),r.a.createElement(_.a,{primary:"Domains"})),r.a.createElement(M.a,{button:!0,onClick:function(e){return a(e,"agents")}},r.a.createElement(q.a,null,r.a.createElement(ee.a,null)),r.a.createElement(_.a,{primary:"Agents"})),r.a.createElement(M.a,{button:!0,onClick:function(e){return a(e,"peers")}},r.a.createElement(q.a,null,r.a.createElement(re.a,null)),r.a.createElement(_.a,{primary:"Peers"})),r.a.createElement(M.a,{button:!0,onClick:function(e){return a(e,"gateways")}},r.a.createElement(q.a,null,r.a.createElement(Z.a,null)),r.a.createElement(_.a,{primary:"Gateways"})),r.a.createElement(M.a,{button:!0,onClick:function(e){return a(e,"numbers")}},r.a.createElement(q.a,null,r.a.createElement(ae.a,null)),r.a.createElement(_.a,{primary:"Numbers"})),r.a.createElement(M.a,{button:!0,onClick:function(e){return a(e,"location")}},r.a.createElement(q.a,null,r.a.createElement(le.a,null)),r.a.createElement(_.a,{primary:"Location"})),r.a.createElement(M.a,{button:!0,onClick:function(e){return a(e,"registration")}},r.a.createElement(q.a,null,r.a.createElement(ie.a,null)),r.a.createElement(_.a,{primary:"Registration"})),r.a.createElement(J.a,null),r.a.createElement(M.a,{disabled:!0,button:!0,onClick:function(e){return a(e,"logs")}},r.a.createElement(q.a,null,r.a.createElement(ue.a,null)),r.a.createElement(_.a,{primary:"Logs"})),r.a.createElement(M.a,{disabled:!0,button:!0,onClick:function(e){return a(e,"settings")}},r.a.createElement(q.a,null,r.a.createElement(X.a,null)),r.a.createElement(_.a,{primary:"Settings"})))}),me=a(149),he=a(6),pe=a.n(he),fe=a(71),ge=a.n(fe),be=a(72),Ee=a.n(be),ve=a(24),ye=a.n(ve),Oe=a(69),Ce=a.n(Oe),we=a(73),ke=a.n(we),Se=a(40),je=a.n(Se),Pe=a(70),Ne=a.n(Pe),Re=a(32),xe=a.n(Re),Be=a(87),De=a.n(Be),Ie=a(43),Ae=a.n(Ie),Ue=a(150),We=a.n(Ue),Le=a(151),Te=a.n(Le),ze=a(31),Je=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,o=t.orderBy,l=t.numSelected,c=t.rowCount,i=t.columnData;return r.a.createElement(Ce.a,null,r.a.createElement(je.a,null,r.a.createElement(ye.a,{padding:"checkbox"},r.a.createElement(De.a,{indeterminate:l>0&&l<c,checked:l===c,onChange:a})),i.map(function(t){return r.a.createElement(ye.a,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:o===t.id&&n},r.a.createElement(Ae.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(Ne.a,{active:o===t.id,direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component),Ve=function(e){var t=e.numSelected,a=e.classes,n=e.name,o=e.handleDeleteItems,l=e.handleAddItem;return r.a.createElement(y.a,{className:pe()(a.root,Object(me.a)({},a.highlight,t>0))},r.a.createElement("div",{className:a.title},t>0?r.a.createElement(p.a,{color:"inherit",variant:"subheading"},t," selected"):r.a.createElement(p.a,{variant:"title",id:"tableTitle"},n)),r.a.createElement("div",{className:a.spacer}),r.a.createElement("div",{className:a.actions},t>0?r.a.createElement(Ae.a,{title:"Delete"},r.a.createElement(C.a,{"aria-label":"Delete",onClick:o},r.a.createElement(We.a,null))):r.a.createElement(Ae.a,{title:"Add"},r.a.createElement(C.a,{"aria-label":"Add",onClick:l},r.a.createElement(Te.a,null)))))};Ve=Object(m.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ze.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(Ve);var Me=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a))).handleRequestSort=function(e,t){var a=t,r="desc";n.state.orderBy===t&&"desc"===n.state.order&&(r="asc");var o="desc"===r?n.state.data.sort(function(e,t){return t[a]<e[a]?-1:1}):n.state.data.sort(function(e,t){return e[a]<t[a]?-1:1});n.setState({data:o,order:r,orderBy:a})},n.handleSelectAllClick=function(e,t){t?n.setState({selected:n.state.data.map(function(e){return e.c1})}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected,r=a.indexOf(t),o=[];-1===r?o=o.concat(a,t):0===r?o=o.concat(a.slice(1)):r===a.length-1?o=o.concat(a.slice(0,-1)):r>0&&(o=o.concat(a.slice(0,r),a.slice(r+1))),n.setState({selected:o})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.state={order:"asc",orderBy:"calories",selected:[],data:e.data,page:0,rowsPerPage:5},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.columnData,o=t.data,l=t.name,c=t.handleOpenDocViewer,i=t.handleDeleteItems,s=t.handleAddItem,u=this.state,d=u.order,m=u.orderBy,h=u.selected,p=u.rowsPerPage,f=u.page,g=p-Math.min(p,o.length-f*p);return r.a.createElement(xe.a,{className:a.root},r.a.createElement(Ve,{name:l,handleAddItem:s,numSelected:h.length,handleDeleteItems:function(t){i(t,e.state.selected),e.setState({selected:[]})}}),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(ge.a,{className:a.table,"aria-labelledby":"tableTitle"},r.a.createElement(Je,{columnData:n,numSelected:h.length,order:d,orderBy:m,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:o.length}),r.a.createElement(Ee.a,null,o.slice(f*p,f*p+p).map(function(t){var n=e.isSelected(t.c1);return r.a.createElement(je.a,{hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,key:t.c1,selected:n},r.a.createElement(ye.a,{padding:"checkbox",onClick:function(a){return e.handleClick(a,t.c1)}},r.a.createElement(De.a,{checked:n})),r.a.createElement(ye.a,{onClick:function(e){return c(e,t.c2)},className:a.cursor,component:"th",scope:"row",padding:"none"},t.c3),r.a.createElement(ye.a,{onClick:function(e){return c(e,t.c2)},className:a.cursor},t.c4),t.c5&&r.a.createElement(ye.a,{onClick:function(e){return c(e,t.c2)},className:a.cursor},t.c5),t.c6&&r.a.createElement(ye.a,{onClick:function(e){return c(e,t.c2)},className:a.cursor},t.c6),r.a.createElement(ye.a,{onClick:function(e){return c(e,t.c2)},className:a.cursor},t.c1))}),g>0&&r.a.createElement(je.a,{style:{height:49*g}},r.a.createElement(ye.a,{colSpan:6}))))),r.a.createElement(ke.a,{component:"div",count:o.length,rowsPerPage:p,page:f,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),Ge=Object(m.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"},cursor:{cursor:"pointer"}}})(Me),qe=a(152),He=a.n(qe),_e=(a(85),a(86),a(48)),Fe=a.n(_e),$e=a(39),Qe=a.n($e),Xe=a(38),Ke=a.n(Xe);function Ze(e){return r.a.createElement(Ke.a,Object.assign({direction:"up"},e))}var Ye=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.content,n=e.open,o=e.handleClose;return r.a.createElement("div",null,r.a.createElement(Fe.a,{open:n,onClose:this.handleClose,TransitionComponent:Ze},r.a.createElement(E.a,{className:t.appBar},r.a.createElement(y.a,null,r.a.createElement(C.a,{color:"inherit","aria-label":"Close",onClick:o},r.a.createElement(Qe.a,null)),r.a.createElement(p.a,{variant:"title",color:"inherit",className:t.flex},a?JSON.parse(a).metadata.name:""))),r.a.createElement(He.a,{mode:"ruby",theme:"monokai",value:a,readOnly:!0,editorProps:{$blockScrolling:!0}})))}}]),t}(r.a.Component),et=Object(m.withStyles)({appBar:{position:"relative"},flex:{flex:1}})(Ye),tt=a(153),at=a.n(tt);function nt(e){return r.a.createElement(Ke.a,Object.assign({direction:"up"},e))}var rt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.endpoint,o=e.handleOnSuccess,l=e.handleClose,c={success:o},i={iconFiletypes:[".yaml",".yml"],showFiletypeIcon:!0,postUrl:n};return r.a.createElement("div",null,r.a.createElement(Fe.a,{open:a,onClose:l,TransitionComponent:nt},r.a.createElement(E.a,{className:t.appBar},r.a.createElement(y.a,null,r.a.createElement(C.a,{color:"inherit","aria-label":"Close",onClick:l},r.a.createElement(Qe.a,null)),r.a.createElement(p.a,{variant:"title",color:"inherit",className:t.flex},"Resource Input"))),r.a.createElement(at.a,{eventHandlers:c,djsConfig:{addRemoveLinks:!0},config:i})))}}]),t}(r.a.Component),ot=Object(m.withStyles)({appBar:{position:"relative"},flex:{flex:1}})(rt),lt=a(154),ct=a.n(lt),it=a(49),st=a.n(it),ut=a(51),dt=a.n(ut),mt=a(50),ht=a.n(mt);var pt=Object(m.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"},card:{maxWidth:300,position:"relative",margin:"10% auto"},title:{marginBottom:16,fontSize:14},pos:{marginBottom:12}}})(function(e){var t=e.classes,a=e.resource,n=e.handleAddItem;return r.a.createElement("div",null,r.a.createElement(st.a,{justify:"center",className:t.card},r.a.createElement(ht.a,null,r.a.createElement(p.a,{className:t.title,color:"textSecondary"},"No resources found"),r.a.createElement(p.a,{variant:"headline",component:"h2"},a),r.a.createElement(p.a,{className:t.pos,color:"textSecondary"},"resource"),r.a.createElement(p.a,{component:"p"},"At this time not resources found on the ",a.toLowerCase()," section. Go to the documentation to learn more about resources ",r.a.createElement("a",{href:"https://routr.io/docs/api-resources.html"},r.a.createElement(ct.a,{style:{color:"#3F51B5",fontSize:18}})))),r.a.createElement(dt.a,null,r.a.createElement(k.a,{className:t.button,variant:"contained",onClick:n,color:"secondary",size:"small"},"Add ",a))))});function ft(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function gt(e,t){t||(t=window.location.href),e=e.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}var bt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleOpenDocViewer=function(t,a){var n=JSON.stringify(JSON.parse(a),null,"\t");e.setState({docViewerOpen:!0,docViewerContent:n})},e.handleCloseDocViewer=function(t){e.setState({docViewerOpen:!1,docViewerContent:""})},e.state={docViewerOpen:!1,docViewerContent:"",fileUploaderOpen:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.endpoint,n=t.resource,o=t.columnData,l=t.data,c=t.handleNotify,i=t.handleChangeSection,s=t.handleDeleteItems;return r.a.createElement("div",null,l.length>0&&r.a.createElement(Ge,{name:ft(n),hide:!0,columnData:o,data:l,handleOpenDocViewer:function(t,a){return e.handleOpenDocViewer(t,a)},handleDeleteItems:s,handleAddItem:function(t){return e.setState({fileUploaderOpen:!0})}}),0===l.length&&r.a.createElement(pt,{resource:ft(n),handleAddItem:function(t){return e.setState({fileUploaderOpen:!0})}}),r.a.createElement(et,{open:this.state.docViewerOpen,content:this.state.docViewerContent,handleClose:function(t){return e.handleCloseDocViewer(t)}}),r.a.createElement(ot,{open:this.state.fileUploaderOpen,endpoint:a,handleClose:function(t){e.setState({fileUploaderOpen:!1})},handleOnSuccess:function(t,a){c(a),e.setState({fileUploaderOpen:!1}),i(t,n)}}))}}]),t}(r.a.Component),Et=a(155),vt=a.n(Et),yt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.message,n=e.open,o=e.handleClose;return r.a.createElement("div",null,r.a.createElement(vt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,autoHideDuration:4e3,onClose:function(e){return o(e)},ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},a),action:[r.a.createElement(k.a,{key:"undo",disabled:!0,color:"secondary",size:"small",onClick:function(e){return o(e)}},"UNDO"),r.a.createElement(C.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:function(e){return o(e)}},r.a.createElement(Qe.a,null))]}))}}]),t}(r.a.Component),Ot=Object(m.withStyles)(function(e){return{close:{width:4*e.spacing.unit,height:4*e.spacing.unit}}})(yt),Ct=[{id:"name",numeric:!1,disablePadding:!0,label:"Domain Name"},{id:"uri",numeric:!1,disablePadding:!1,label:"URI"},{id:"ref",numeric:!1,disablePadding:!1,label:"Ref"}];function wt(e){return{c1:e.metadata.ref,c2:JSON.stringify(e),c3:e.metadata.name,c4:e.spec.context.domainUri}}var kt=[{id:"name",numeric:!1,disablePadding:!0,label:"Agent Name"},{id:"username",numeric:!1,disablePadding:!1,label:"Username"},{id:"ref",numeric:!1,disablePadding:!1,label:"Ref"}];var St=[{id:"name",numeric:!1,disablePadding:!0,label:"Peer Name"},{id:"username",numeric:!1,disablePadding:!1,label:"Username"},{id:"ref",numeric:!1,disablePadding:!1,label:"Ref"}];var jt=[{id:"name",numeric:!1,disablePadding:!0,label:"Gateway"},{id:"username",numeric:!1,disablePadding:!1,label:"Username"},{id:"host",numeric:!1,disablePadding:!1,label:"Host"},{id:"transport",numeric:!1,disablePadding:!1,label:"Transport"},{id:"ref",numeric:!1,disablePadding:!1,label:"Ref"}];var Pt=[{id:"number",numeric:!1,disablePadding:!0,label:"Number"},{id:"location",numeric:!1,disablePadding:!1,label:"Location"},{id:"aorLink",numeric:!1,disablePadding:!1,label:"AOR Link"},{id:"ref",numeric:!1,disablePadding:!1,label:"Ref"}];var Nt=[{id:"addressOfRecord",numeric:!1,disablePadding:!0,label:"Address Of Record"},{id:"contactInfo",numeric:!1,disablePadding:!1,label:"Contact Information"}];var Rt=[{id:"host",numeric:!1,disablePadding:!1,label:"Host"},{id:"username",numeric:!1,disablePadding:!0,label:"Username"},{id:"ipAddress",numeric:!1,disablePadding:!1,label:"IP"},{id:"registered",numeric:!1,disablePadding:!1,label:"Registered"}];function xt(e){switch(e){case"domains":return Ct;case"agents":return kt;case"peers":return St;case"gateways":return jt;case"numbers":return Pt;case"location":return Nt;case"registration":return Rt;default:return Ct}}function Bt(e,t){switch(t){case"domains":return wt(e);case"agents":case"peers":return function(e){return{c1:e.metadata.ref,c2:JSON.stringify(e),c3:e.metadata.name,c4:e.spec.credentials.username}}(e);case"gateways":return function(e){return{c1:e.metadata.ref,c2:JSON.stringify(e),c3:e.metadata.name,c4:e.spec.credentials.username,c5:e.spec.host,c6:e.spec.transport}}(e);case"numbers":return function(e){var t=e.metadata.geoInfo.city+", "+e.metadata.geoInfo.country;return{c1:e.metadata.ref,c2:JSON.stringify(e),c3:e.spec.location.telUrl,c4:t,c5:e.spec.location.aorLink}}(e);case"location":return function(e){return{c1:e.addressOfRecord,c2:e.contactInfo}}(e);case"registration":return function(e){return console.log("item:"+JSON.stringify(e)),{c1:e.user,c2:e.host,c3:e.ip,c4:e.regOnFormatted}}(e);default:return wt(e)}}var Dt=a(156),It=a.n(Dt),At=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.order,n=t.orderBy,o=t.columnData;return r.a.createElement(Ce.a,null,r.a.createElement(je.a,null,o.map(function(t){return r.a.createElement(ye.a,{key:t.id,numeric:t.numeric,sortDirection:n===t.id&&a},r.a.createElement(Ae.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(Ne.a,{active:n===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component),Ut=function(e){var t=e.classes,a=e.name,n=e.handleRefresh;return r.a.createElement(y.a,null,r.a.createElement("div",{className:t.title},r.a.createElement(p.a,{variant:"title",id:"tableTitle"},ft(a))),r.a.createElement("div",{className:t.spacer}),r.a.createElement("div",{className:t.actions},r.a.createElement(Ae.a,{title:"Refresh"},r.a.createElement(C.a,{"aria-label":"Refresh",onClick:n},r.a.createElement(It.a,null)))))};Ut=Object(m.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ze.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(Ut);var Wt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc");var o="desc"===r?a.state.data.sort(function(e,t){return t[n]<e[n]?-1:1}):a.state.data.sort(function(e,t){return e[n]<t[n]?-1:1});a.setState({data:o,order:r,orderBy:n})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.state={order:"asc",orderBy:"calories",data:e.data,page:0,rowsPerPage:5},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.columnData,n=e.data,o=e.name,l=e.handleRefresh,c=this.state,i=c.order,s=c.orderBy,u=c.rowsPerPage,d=c.page,m=u-Math.min(u,n.length-d*u);return r.a.createElement(xe.a,{className:t.root},r.a.createElement(Ut,{name:o,handleRefresh:l}),r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(ge.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(At,{columnData:a,order:i,orderBy:s,onRequestSort:this.handleRequestSort}),r.a.createElement(Ee.a,null,n.slice(d*u,d*u+u).map(function(e){return r.a.createElement(je.a,{hover:!0,tabIndex:-1,key:e.c1},r.a.createElement(ye.a,{component:"th",scope:"row"},e.c1),r.a.createElement(ye.a,null,e.c2),e.c3&&r.a.createElement(ye.a,null,e.c3),e.c4&&r.a.createElement(ye.a,null,e.c4))}),m>0&&r.a.createElement(je.a,{style:{height:49*m}},r.a.createElement(ye.a,{colSpan:6}))))),r.a.createElement(ke.a,{component:"div",count:n.length,rowsPerPage:u,page:d,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),Lt=Object(m.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}})(Wt);function Tt(e){return r.a.createElement(Ke.a,Object.assign({direction:"up"},e))}var zt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={endpoint:e.endpoint,serverVersion:"",apiVersion:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch(this.state.endpoint).then(function(e){return e.json()}).then(function(t){console.log(JSON.stringify(t)),e.setState({serverVersion:t.version})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.open,o=t.handleClose;return r.a.createElement("div",null,r.a.createElement(Fe.a,{open:n,onClose:function(t){return e.handleClose(t)},TransitionComponent:Tt},r.a.createElement(E.a,{className:a.appBar},r.a.createElement(y.a,null,r.a.createElement(C.a,{color:"inherit","aria-label":"Close",onClick:o},r.a.createElement(Qe.a,null)),r.a.createElement(p.a,{variant:"title",color:"inherit",className:a.flex},"About"))),r.a.createElement(st.a,{className:a.card},r.a.createElement(ht.a,null,r.a.createElement(p.a,{className:a.title,color:"textSecondary"},"v1.0 alpha"),r.a.createElement(p.a,{variant:"headline",component:"h2"},"Routr Console"),r.a.createElement(p.a,{component:"p"},'This version "alpha" of Routr console is not production ready ',r.a.createElement("br",null),'"Use this version at your own discretion"')),r.a.createElement(dt.a,null,r.a.createElement(k.a,{size:"small",href:"https://routr.io"},"Learn More")))))}}]),t}(r.a.Component),Jt=Object(m.withStyles)({appBar:{position:"relative"},flex:{flex:1}})(zt),Vt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getEndpoint=function(e,t,a,n){var r=e+"/"+t;return a&&(r=r+"?filter="+a),n&&(r=a?r+"&token="+n:r+"?token="+n),r},a.handleDeleteItems=function(e,t){t.forEach(function(e){var t="numbers"===a.state.section?"dids":a.state.section;fetch(a.getEndpoint(a.state.apiURL,t+"/"+e,"",a.state.token),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){a.componentWillMount(),a.handleNotify(e.message)})})},a.handleChangeSection=function(e,t){a.setState({section:t}),a.componentWillMount()},a.handleNotify=function(e){a.setState({notificationBarOpen:!0,notificationBarMessage:e})},a.isResourceSection=function(){return"domains"===a.state.section||"agents"===a.state.section||"peers"===a.state.section||"gateways"===a.state.section||"numbers"===a.state.section},a.state={data:[],aboutDialogOpen:!1,section:"domains",notificationBarOpen:!1,notificationBarMessage:"",token:"",apiURL:"/api/v1beta1"},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){gt("token")&&this.setState({token:gt("token")}),gt("apiURL")&&this.setState({apiURL:gt("apiURL")}),setTimeout(function(){var e=this,t="numbers"===this.state.section?"dids":this.state.section;fetch(this.getEndpoint(this.state.apiURL,t,"*",this.state.token)).then(function(e){return e.json()}).then(function(t){var a=[];t&&t.result&&t.result.forEach(function(t){a.push(Bt(t,e.state.section))}),e.setState({data:a})})}.bind(this),1)}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{position:"absolute",className:t.appBar},r.a.createElement(T,{onOpenAbout:function(t){return e.setState({aboutDialogOpen:!0})}})),r.a.createElement(g.a,{variant:"permanent",classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(de,{handleChangeSection:function(t,a){return e.handleChangeSection(t,a)}})),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),this.isResourceSection()&&r.a.createElement(bt,{endpoint:this.getEndpoint(this.state.apiURL,"numbers"===this.state.section?"dids":this.state.section,"",this.state.token),handleDeleteItems:function(t,a){return e.handleDeleteItems(t,a)},handleNotify:this.handleNotify,handleChangeSection:this.handleChangeSection,columnData:xt(this.state.section),data:this.state.data,resource:this.state.section}),!this.isResourceSection()&&r.a.createElement(Lt,{handleRefresh:function(t){return e.componentWillMount()},name:this.state.section,columnData:xt(this.state.section),data:this.state.data}),r.a.createElement(Ot,{message:this.state.notificationBarMessage,open:this.state.notificationBarOpen,handleClose:function(t){return e.setState({notificationBarOpen:!1})}}),r.a.createElement(Jt,{handleClose:function(t){return e.setState({aboutDialogOpen:!1})},endpoint:this.getEndpoint(this.state.apiURL,"/system/info","",this.state.token),open:this.state.aboutDialogOpen}),r.a.createElement(p.a,{style:{marginTop:25},variant:"caption",gutterBottom:!0,align:"center"},"Brought to you by Fonoster, Inc and friends | v1.0 alpha")))}}]),t}(r.a.Component),Mt=Object(m.withStyles)(function(e){return{root:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex",height:"100vh"},appBar:{zIndex:e.zIndex.drawer+1},drawerPaper:{position:"relative",width:240},content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar}})(Vt),Gt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(st.a,{className:e.card},r.a.createElement(ht.a,null,r.a.createElement("img",{height:40,src:"/images/logo.png"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{variant:"caption",style:{color:"#fff"}},"v1.0"),r.a.createElement("br",null),r.a.createElement(p.a,{variant:"body1",style:{color:"#fff"},gutterBottom:!0},"Welcome to Routr Console demo. The data contain in this demo gets cleanup periodically, so please ensure to save your configuration files. If you like what you see, please considere sharing with friends and co-workers. Thanks for your interest in this project.")),r.a.createElement(dt.a,null,r.a.createElement("div",{style:{width:"100%",display:"flex"}},r.a.createElement("span",{style:{flex:1}}),r.a.createElement(k.a,{className:e.button,size:"small",href:"/?apiURL=https://api.routr.io/api/v1beta1&token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiJ9.75_0_jp8__mLr2FK5Q-m2ph4euWA_zl3G_q01SdCo0Drg-_Dya3_OLTRGbRImnG5P-TfAgboqf5y3qGu1l39BA"},"Continue")))))}}]),t}(r.a.Component),qt=Object(m.withStyles)(function(e){return{root:{backgroundImage:"linear-gradient(#33383d, #222)",overflow:"hidden",height:"100vh"},card:{backgroundColor:"#33383d",maxWidth:300,position:"absolute",left:"calc(50vw - 150px)",top:"calc(50vh - 120px)"},button:{backgroundColor:"#4caf50","&:hover":{backgroundColor:"#6fbf73"}}}})(Gt),Ht=Object(m.createMuiTheme)({palette:{primary:{light:"#757ce8",main:"#33383d",dark:"#002884",contrastText:"#fff"},secondary:{main:"#3F51B5"}}}),_t=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).displayWelcome=function(){return"/login"===window.location.pathname},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.displayWelcome()&&r.a.createElement(qt,null),!this.displayWelcome()&&r.a.createElement(m.MuiThemeProvider,{theme:Ht},r.a.createElement(Mt,null)))}}]),t}(n.Component),Ft=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $t(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(_t,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ft?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$t(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):$t(e)})}}()}},[[158,2,1]]]);
//# sourceMappingURL=main.5117c2e3.chunk.js.map